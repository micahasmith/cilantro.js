<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <title>Proto2</title>
    <style type="text/css">
        p,h1,h2,h3,h4,h5,input,em,strong{font-family: Tahoma, Helvetica, Arial, Sans-Serif;}
        .header
        {
            font-size:70px;
            color: #555;
            text-shadow: 0px 2px 3px #555;
        }
        .page 
        { 
            margin: 1px auto;
            padding: 0;
            max-width: 960px;
            min-width: 500px;
            }
        #wrapper
        {
            margin: 1px auto;
            padding: 0;
            max-width: 960px;
            min-width: 500px;
            height: 960px;
            background-color: #eee;
            border: 1px solid #444;
        }
        .container
        {
            position: relative;
            top: 0px;
            left: 0px;
        }
        .box
        {
            background-color: White;
            position: absolute;
            border: 1px solid #444;
            padding: 5px 5px 5px 5px;
        }
        .box1
        {
            background-color: red;
        }
        .box2
        {
            background-color: blue;
        }
        .box3
        {
            background-color: green;
        }
        .box4
        {
            background-color: yellow;
        }
        .box5
        {
            background-color: gray;
        }
        /* http://sonspring.com/journal/clearing-floats */.clear
        {
            clear: both;
            display: block;
            overflow: hidden;
            visibility: hidden;
            width: 0;
            height: 0;
        }
        /* http://www.yuiblog.com/blog/2010/09/27/clearfix-reloaded-overflowhidden-demystified */.clearfix:before, .clearfix:after, .container_12:before, .container_12:after, .container_16:before, .container_16:after
        {
            content: '.';
            display: block;
            overflow: hidden;
            visibility: hidden;
            font-size: 0;
            line-height: 0;
            width: 0;
            height: 0;
        }
        .clearfix:after, .container_12:after, .container_16:after
        {
            clear: both;
        }
        /*
  The following zoom:1 rule is specifically for IE6 + IE7.
  Move to separate stylesheet if invalid CSS is a problem.
*/.clearfix, .container_12, .container_16
        {
            zoom: 1;
        }
    </style>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.15/jquery-ui.min.js"></script>
    <!--<script type="text/javascript" src="jquery-1.5.1.min.js"></script>
    <script type="text/javascript" src="jquery-ui-1.8.11.min.js"></script>-->
	<script type="text/javascript" src="cilantro.js" ></script>
    <script type="text/javascript">
    //box object constructor


$(function () {
    $("#container").cilantro();
    box = {},
    iter = 0,
    timeout = false,
    timeoutmax = 500;

    

    var abox = $("container").cilantro.boxFactory({ width: 100, height: 100, html: "<p>1 hi</p>" });
    bm.addBox(abox);

    abox = $("#container").cilantro.boxFactory({ width: 200, height: 200, html: "<p>2 hi</p>" });
    $("#container").cilantro.addBox(abox);

    abox = $("#container").cilantro.boxFactory({ width: 300, height: 300, html: "<p>3 hi</p>" });
    $("#container").cilantro.addBox(abox);

    abox = $("#container").cilantro.boxFactory({ width: 200, height: 200, html: "<p>4 hi</p>" });
    $("#container").cilantro.addBox(abox);

    abox = $("#container").cilantro.boxFactory({ width: 125, height: 250, html: "<p>5 hi</p>" });
    $("#container").cilantro.addBox(abox);

    abox = $("#container").cilantro.boxFactory({ width: 55, height: 125, html: "<p>6 hi</p>" });
    $("#container").cilantro.addBox(abox);

    abox = $("#container").cilantro.boxFactory({ width: 55, height: 125, html: "<p>7 hi</p>" });
    $("#container").cilantro.addBox(abox);

    abox = $("#container").cilantro.boxFactory({ width: 55, height: 125, html: "<p>8 hi</p>" });
    $("#container").cilantro.addBox(abox);

    abox = $("#container").cilantro.boxFactory({ width: 130, height: 50, html: "<p>9 hi</p>" });
    $("#container").cilantro.addBox(abox);

    abox = $("#container").cilantro.boxFactory({ width: 325, height: 250, html: "<p>10 hi</p>" });
    $("#container").cilantro.addBox(abox);

    abox = $("#container").cilantro.boxFactory({ width: 55, height: 55, html: "<p>11 hi</p>" });
    $("#container").cilantro.addBox(abox);

    abox = $("#container").cilantro.boxFactory({ width: 125, height: 250, html: "<p>12 hi</p>" });
    $("#container").cilantro.addBox(abox);

    abox = $("#container").cilantro.boxFactory({ width: 130, height: 50, html: "<p>13 hi</p>" });
    $("#container").cilantro.addBox(abox);

    abox = $("#container").cilantro.boxFactory({ width: 55, height: 55, html: "<p>14 hi</p>" });
    $("#container").cilantro.addBox(abox);

    abox = $("#container").cilantro.boxFactory({ width: 300, height: 200, html: "<p>15 hi</p>" });
    $("#container").cilantro.addBox(abox);

    abox = $("#container").cilantro.boxFactory({ width: 125, height: 250, html: "<p>16 hi</p>" });
    $("#container").cilantro.addBox(abox);

    $("#container").cilantro.prep();
    $("#container").cilantro.render();

    $(window).resize(function () {
        var options = { distance: 10 };
        clearTimeout(timeout);
        timeout = setTimeout(function () {
            var easing = "easeInOutExpo";
            $("#container").cilantro.prep();
            $("#container").cilantro.transition(function (oldone, newone, context) {
                $("#" + oldone.id, context).animate({
                    top: [newone.top, easing],
                    left: [newone.left, easing]
                }, 500, function () {
                });
            });
        }, timeoutmax);


    });
    $("#container > div").click(function(){
        var $t=$(this),        
        state=$t.data("state") || "closed",
        tid=$t.attr("id"),
        index=parseInt(tid),
        easing = "easeInOutExpo";
        if(state==="closed") {
            $("#container").cilantro.alterBasis(function(basis){
                basis[index].width+=100,
                basis[index].height+=100
            });
            $t.data("state", "open");
        } else {
            $("#container").cilantro.alterBasis(function (basis) {
                basis[index].width -= 100,
                basis[index].height -= 100
            });
            $t.data("state", "closed");
        }
        $("#container").cilantro.prep();
        $("#container").cilantro.transition( function (oldone, newone, context) {
            
                $("#" + oldone.id, context).animate({
                    top: [newone.top, easing],
                    left: [newone.left, easing],
                    width:[newone.width,easing],
                    height:[newone.height,easing]
                }, 500, function () {
                });
            
        });
    });
})


		</script>
</head>
<body>
    <div class="page">
        <h1 class="header">Proto2</h1>
    </div>
    <div id="wrapper">
        <div id="container" class="container">
        </div>
    </div>
</body>
</html>
